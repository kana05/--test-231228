<!-- スライダーサンプル -->
<section class="{{ section.class }}" data-section-id="{{ section.id }}" data-section-type="custom-slider">
  <div class="slide-wrap">
    <div class="swiper">
      <div class="swiper-wrapper">
        {% for block in section.blocks %}
          <div class="swiper-slide">
            <div class="item">
              {%- if block.settings.image -%}
                <img src="{{ block.settings.image | img_url: "1000x" }}" alt="{{ block.settings.slide_title | escape }}" />
              {%- endif -%}
              <div class="slide-content">
                <h2>{{ block.settings.slide_title | escape }}</h2>
                <p>{{ block.settings.subheading | escape }}</p>
                {%- if block.settings.button_label != blank and block.settings.button_link != blank -%}
                  <a href="{{ block.settings.button_link }}" class="button">{{ block.settings.button_label }}</a>
                {%- endif -%}
              </div>
            </div>
          </div>
        {% endfor %}
      </div>
      <div class="swiper-pagination"></div>
      <div class="swiper-button-prev"></div>
      <div class="swiper-button-next"></div>
    </div>
  </div>
</section>

<style>
  .swiper {
    width: 1000px;
    overflow: visible;
  }
  .swiper-slide {
    text-align: center;
  }
  .swiper-slide img {
    width: 1000px;
    height: auto;
  }
  @media screen and (max-width: 1000px){
    .swiper {
      width: 100%;
    }
    .swiper-slide img {
      width: 100%;
    }    
  } 
</style>
<script type="text/javascript">
  !function(){
    const option = {
      loop: true,
      loopAdditionalSlides: 1,
      slidesPerView: 'auto',
      centeredSlides: true,
      spaceBetween: 0,
      speed: {{ section.settings.speed }}, //移動速度
      breakpoints: {
        1000: {
          slidesPerView: 1,
          spaceBetween: 0
        }
      },
      autoplay: {
        delay: {{ section.settings.delay }}, //スライドするまでの停止時間
        disableOnInteraction: false
      },
      slidesPerGroup: 1,
      initialSlide: 0,
      pagination: {
        el: '.swiper-pagination',
        clickable: true,
        type: 'bullets'
      },
      navigation: {
        nextEl: '.swiper-button-next',
        prevEl: '.swiper-button-prev',
      }
    };
    const css = document.createElement('link');
    css.href = 'https://cdn.jsdelivr.net/npm/swiper@8/swiper-bundle.min.css';
    css.rel = 'stylesheet';
    css.type = 'text/css';
    document.head.appendChild(css);
    const script = document.createElement('script');
    script.src = 'https://cdn.jsdelivr.net/npm/swiper@8/swiper-bundle.min.js';
    script.setAttribute('charset', 'UTF-8');
    document.head.appendChild(script);
    script.onload = function() {
      const swiper = new Swiper('.swiper', option);
    };
  }();
</script>
{% schema %}
  {
    "name": "Custom Slider",
    "class": "slide-wrap",
    "settings": [
      {
        "type": "select",
        "id": "slide_height",
        "label": "スライドの高さ",
        "default": "adapt",
        "options": [
          {
            "label": "最初の画像の高さに対応",
            "value": "adapt"
          },
          {
            "label": "小",
            "value": "small"
          },
          {
            "label": "中",
            "value": "medium"
          },
          {
            "label": "大",
            "value": "large"
          }
        ]
      },
      {
        "type": "select",
        "id": "text_size",
        "label": "文字サイズ",
        "options": [
          {
            "label": "中",
            "value": "medium"
          },
          {
            "label": "大",
            "value": "large"
          }
        ]
      },
      {
        "type": "select",
        "id": "text_alignment",
        "label": "テキストアラインメント",
        "default": "center center",
        "options": [
          {
            "label": "中心",
            "value": "center center"
          },
          {
            "label": "左中央",
            "value": "left center"
          },
          {
            "label": "右中央",
            "value": "right center"
          }
        ]
      },
      {
        "type": "checkbox",
        "id": "show_overlay",
        "label": "オーバーレイを表示する",
        "default": true
      },
      {
        "type": "checkbox",
        "id": "auto",
        "label": "スライドの自動切り替え",
        "default": false
      },
      {
        "type": "range",
        "id": "speed",
        "label": "スライドの変更する間隔",
        "max": 9,
        "min": 3,
        "step": 2,
        "unit": "秒",
        "default": 5
      }
    ],
    "blocks": [
      {
        "type": "slide",
        "name": "画像スライド",
        "limit": 3,
        "settings": [
          {
            "type": "image_picker",
            "id": "image",
            "label": "画像"
          },
          {
            "type": "text",
            "id": "slide_title",
            "default": "見出しが入ります。",
            "label": "見出し"
          },
          {
            "type": "text",
            "id": "subheading",
            "default": "あなたのブランドのストーリーをビデオや画像で伝える",
            "label": "小見出し"
          },
          {
            "type": "text",
            "id": "button_label",
            "default": "Button label",
            "label": "ボタンのラベルが入ります",
            "info": "ボタンのラベルのインフォメーション"
          },
          {
            "type": "url",
            "id": "button_link",
            "label": "URL"
          }
        ]
      }
    ],
    "presets":[
      {
        "name": "スライダー画像",
        "category": "画像",
        "settings": {
          "auto": false,
          "speed": 5
        }
      }
    ]
  }
{% endschema %}